export function __vite_legacy_guard(){import("data:text/javascript,")}import"./vite_preload.7eb43fbe.js";import{R as s}from"./index.901aa6cd.js";import{R as e,j as i,a as t,F as n}from"./CodeEditor.single-vendor-dep.cf4a6b62.js";var a="style-module__time_block___K39a0",r="style-module__countdown_num___NmUiu",o="style-module__time_label___L7ASh";const d={days:"روز",day:"روز",hours:"ساعت",hour:"ساعت",minutes:"دقیقه",minute:"دقیقه",seconds:"ثانیه",second:"ثانیه"};function c(s){return s in d?d[s]:s}class l extends e.Component{constructor(s){super(s);let e=moment();if(s.server_time){let i=moment(s.server_time);this.delta=e-i}else this.delta=0;this.time=moment(s.time),this.state={seconds:null},this.tick=this.tick.bind(this)}tick(){let s=moment().subtract(this.delta),e=this.time-s;e<1e3&&this.props.onFinish&&this.props.onFinish(this);let i=Math.floor(Math.max(0,e)/1e3);this.setState((s=>({seconds:i}))),i>=1&&setTimeout(this.tick,1e3)}componentDidMount(){this.tick()}render(){const s=this.state.seconds%60,e=(this.state.seconds-s)/60,d=e%60,l=(e-d)/60,m=l%24,h=(l-m)/24;return i("div",{dir:this.props.dir,children:[h>0&&i("div",{className:a,children:[t("span",{className:r,children:persian_digits(h)}),t("br",{}),t("span",{className:o,children:c(1===h?"day":"days")})]}),i("div",{className:a,children:[t("span",{className:r,children:persian_digits(m)}),t("br",{}),t("span",{className:o,children:c(1===m?"hour":"hours")})]}),i("div",{className:a,children:[t("span",{className:r,children:persian_digits(d)}),t("br",{}),t("span",{className:o,children:c(1===m?"minute":"minutes")})]}),this.props.showSeconds?i("div",{className:a,children:[t("span",{className:r,children:persian_digits(s)}),t("br",{}),t("span",{className:o,children:c(1===m?"second":"seconds")})]}):t(n,{})]})}}window.qtimer=function(e,i,n={}){n=Object.assign({onFinish:null,server_time:null,dir:"ltr",showSeconds:!0},n),s.render(t(l,{time:i,server_time:n.server_time,onFinish:n.onFinish,dir:n.dir,showSeconds:n.showSeconds}),e)};
